<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.js"
            integrity="sha256-UgvvN8vBkgO0luPSUl2s8TIlOSYRoGFAX4jlCIm9Adc=" crossorigin="anonymous"></script>
    <title>Document</title>
    <link rel="stylesheet" href="../../css/notifications.css"/>
    <link rel="stylesheet" href="../../css/button.css"/>
    <link rel="stylesheet" href="../../css/format.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
</head>

<body id="notification-body">
<div th:insert="~{common/header :: header}"></div>
<div th:insert="~{common/title :: title ('공지사항')}"></div>
<section id="notification-section">
    <article class="notification-contents">
        <div id="notification-btn-wrapper">
          <div class="search-form-wrapper">
          <input placeholder="검색어를 입력하세요" id="search-input" class="search-input"/>
            <button type="button" class="board-filter-search-btn">검색</button> 
          </div>
            <button id="notification-enroll-btn" class="btn-setting">글 등록</button>
        </div>
        </article>
        <article>
        <div id="notification-table">
            <div class="notification-row" id="notification-title-row">
                <div class="notificationBoard-no">
                    <span>NO</span>
                </div>
                <div class="notificationBoard-title">
                    <span>제목</span>
                </div>
                <div class="notificationBoard-enroll-date">
                    <span>등록일</span>
                </div>
                <div class="notificationBoard-writer">
                    <span>작성자</span>
                </div>
                <div class="notification-view-count">
                <span>조회수</span>
            </div>
            </div>
           <div th:each="notification : ${notification}" >
    <div class="notification-row">
      <div class="notificationBoard-no" id="notificationBoard-no">
        <span th:text="${notification.notificationSeq}"></span>
      </div>
      <div class="notificationBoard-title" id="notificationBoard-title">
    <a th:href="@{/ems/notification(notificationSeq=${notification.notificationSeq})}" 
     th:text="${notification.title}"></a>
      </div>
      <div class="notificationBoard-enroll-date">
        <span th:text="${notification.formattedNotificationDate}"></span>
      </div>
      <div class="notificationBoard-writer">
        <span th:text="${notification.name}"></span>
      </div>
      <div class="notification-view-count">
      <span th:text="${notification.viewCount}"></span>
    </div>
    </div>
  </div> 
   <article class="scholarship-page-information">
        <ul id="pagination">
            <li>
                <a class="page-link" id="before">
                    이전
                </a>
            </li>
            <!--// 이게 페이지 번호-->
            <li class="page-item" id="page_number">
            </li>
            <li class="page-item">
                <a class="page-link" id="next">
                    다음
                </a>
            </li>
        </ul>
        </div>
    </article>
</section>

<footer></footer>
<script>
	$("#notification-enroll-btn").on("click", function(){
		location.href = "/ems/notifications/write";
	})
	
	document.querySelector(".board-filter-search-btn").onclick = function(){
		fetch("/notifications/list",{
			method: "get",
			headers: {
				"Content-Type": "application/json"
			},
			body: JSON.stringify({
				keyword: document.getElementById("search-input").value
			})
		})
		.then(location.href = "/ems/notifications")
		
	}

	
	

</script>
</body>
